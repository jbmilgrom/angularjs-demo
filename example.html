<!DOCTYPE html>
<html ng-app="exampleApp">
<head>
  <title>Angular JS Demo - Modularity</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  <script type="text/javascript" src="controller"></script>
  <script type="text/javascript" src="services"></script>
  <script>
    // convention to use the suffix 'App' with top level modules 
    // that are associated with an HTML document
    // i.e. modules that are not purposed for organization
    var myApp = angular.module("exampleApp", [controllerModule]);

    var controllerModule = angular.module("controllerModule", []);
    // .controller
    // .controller;

    // note: unlike with other JS functions, the order of the 'parameters'
    // does not matter
    myApp.controller("dayCtrl", function(days, $scope){


      // $scope.day        = days.today;
      // $scope.tomorrow   = days.tomorrow;

      $scope.day      = new Date().getDay();

    }).
    controller("secCtrl", function($scope){
      $scope.tomorrow = (new Date().getDay() + 1) % 7;

    });


    // myApp.controller("weekCtrl", function($scope){
    //   var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

    //   $scope.comingWeek = comingWeek();

    //   function comingWeek(){
    //     result = [];
    //     for (var i = 0; i < dayNames.length; i++) {
    //       result.push(dayNames[(new Date().getDay() + i) % 7]);
    //     }
    //     return result;
    //   }

    // });

    myApp.filter("dayName", function(){
      var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];

      return function(input){
        return angular.isNumber(input) ? dayNames[input] : input;
      };
    });

    myApp.service("days", function(){
      var now = new Date();
      this.today = now.getDay();
      this.tomorrow = (this.today + 1) % 7;
    });

  </script>	
  <body>
    <div class="container">
      <div class="panel">
        <div class="page-header">
          <h1>AngularJS Example App</h1>
        </div>
        <h3 ng-controller="dayCtrl">Today is {{day || "unknown" | dayName}}</h3>
        <h3 ng-controller="secCtrl">Tomorrow is {{tomorrow || "unknown"| dayName}}</h3>
      </div>
<!--       <div class="panel" ng-controller="weekCtrl">
        <h2>The Coming Week: </h2>
        <div ng-repeat="day in comingWeek">
          <h3>{{day}}</h3>
        </div>        
      </div> -->
    </div>
  </body>
</head>
</html>
